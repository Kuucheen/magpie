"use strict";(globalThis.webpackChunkwebsite_docs=globalThis.webpackChunkwebsite_docs||[]).push([[144],{4260(e,s,r){r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>t});const c=JSON.parse('{"id":"api/rest-scraping-sources","title":"REST: Scraping Sources","description":"GET /api/getScrapingSourcesCount","source":"@site/docs/api/rest-scraping-sources.md","sourceDirName":"api","slug":"/api/rest-scraping-sources","permalink":"/docs/api/rest-scraping-sources","draft":false,"unlisted":false,"editUrl":"https://github.com/Kuucheen/magpie/tree/master/website/docs/docs/api/rest-scraping-sources.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"REST: Rotating Proxies","permalink":"/docs/api/rest-rotating-proxies"},"next":{"title":"REST: Admin and System","permalink":"/docs/api/rest-admin-and-system"}}');var n=r(4848),i=r(8453);const o={},a="REST: Scraping Sources",d={},t=[{value:"<code>GET /api/getScrapingSourcesCount</code>",id:"get-apigetscrapingsourcescount",level:2},{value:"<code>GET /api/getScrapingSourcesPage/{page}</code>",id:"get-apigetscrapingsourcespagepage",level:2},{value:"<code>POST /api/scrapingSources</code>",id:"post-apiscrapingsources",level:2},{value:"<code>DELETE /api/scrapingSources</code>",id:"delete-apiscrapingsources",level:2},{value:"<code>GET /api/scrapingSources/{id}</code>",id:"get-apiscrapingsourcesid",level:2},{value:"<code>GET /api/scrapingSources/{id}/proxies</code>",id:"get-apiscrapingsourcesidproxies",level:2},{value:"<code>GET /api/scrapingSources/check?url=...</code>",id:"get-apiscrapingsourcescheckurl",level:2},{value:"<code>GET /api/scrapingSources/respectRobots</code>",id:"get-apiscrapingsourcesrespectrobots",level:2}];function l(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"rest-scraping-sources",children:"REST: Scraping Sources"})}),"\n",(0,n.jsx)(s.h2,{id:"get-apigetscrapingsourcescount",children:(0,n.jsx)(s.code,{children:"GET /api/getScrapingSourcesCount"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth. Returns source count for the current user."}),"\n",(0,n.jsx)(s.h2,{id:"get-apigetscrapingsourcespagepage",children:(0,n.jsx)(s.code,{children:"GET /api/getScrapingSourcesPage/{page}"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth. Returns paged source summaries."}),"\n",(0,n.jsx)(s.h2,{id:"post-apiscrapingsources",children:(0,n.jsx)(s.code,{children:"POST /api/scrapingSources"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth. Uploads sources from multipart form data."}),"\n",(0,n.jsx)(s.p,{children:"Accepted form fields:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"file"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"scrapeSourceTextarea"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"clipboardScrapeSources"})}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Success (",(0,n.jsx)(s.code,{children:"200"}),"):"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{"sourceCount": 18}\n'})}),"\n",(0,n.jsxs)(s.p,{children:["If blocked by website blacklist, response is ",(0,n.jsx)(s.code,{children:"400"})," with details:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "error": "One or more scrape sources are blocked",\n  "blocked_sources": ["https://blocked.example/list.txt"],\n  "websiteBlacklist": ["blocked.example"]\n}\n'})}),"\n",(0,n.jsx)(s.h2,{id:"delete-apiscrapingsources",children:(0,n.jsx)(s.code,{children:"DELETE /api/scrapingSources"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth."}),"\n",(0,n.jsx)(s.p,{children:"Request body is an array of scrape source IDs:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:"[12, 13, 14]\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Response is a JSON string, for example: ",(0,n.jsx)(s.code,{children:'"Deleted 3 scraping sources."'}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"get-apiscrapingsourcesid",children:(0,n.jsx)(s.code,{children:"GET /api/scrapingSources/{id}"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth. Returns detailed source stats."}),"\n",(0,n.jsx)(s.h2,{id:"get-apiscrapingsourcesidproxies",children:(0,n.jsx)(s.code,{children:"GET /api/scrapingSources/{id}/proxies"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth. Returns paged proxies associated with a source."}),"\n",(0,n.jsx)(s.p,{children:"Query params:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"page"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"pageSize"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"search"})}),"\n",(0,n.jsxs)(s.li,{children:["same filter params as proxy list:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"status"}),", ",(0,n.jsx)(s.code,{children:"protocol"}),", ",(0,n.jsx)(s.code,{children:"country"}),", ",(0,n.jsx)(s.code,{children:"type"}),", ",(0,n.jsx)(s.code,{children:"anonymity"}),", ",(0,n.jsx)(s.code,{children:"reputation"}),", ",(0,n.jsx)(s.code,{children:"maxTimeout"}),", ",(0,n.jsx)(s.code,{children:"maxRetries"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"get-apiscrapingsourcescheckurl",children:(0,n.jsx)(s.code,{children:"GET /api/scrapingSources/check?url=..."})}),"\n",(0,n.jsxs)(s.p,{children:["Requires auth. Checks ",(0,n.jsx)(s.code,{children:"robots.txt"})," allowance."]}),"\n",(0,n.jsx)(s.p,{children:"Response:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "allowed": true,\n  "robots_found": true,\n  "error": ""\n}\n'})}),"\n",(0,n.jsx)(s.h2,{id:"get-apiscrapingsourcesrespectrobots",children:(0,n.jsx)(s.code,{children:"GET /api/scrapingSources/respectRobots"})}),"\n",(0,n.jsx)(s.p,{children:"Requires auth."}),"\n",(0,n.jsx)(s.p,{children:"Response:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "respect_robots_txt": true\n}\n'})})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453(e,s,r){r.d(s,{R:()=>o,x:()=>a});var c=r(6540);const n={},i=c.createContext(n);function o(e){const s=c.useContext(i);return c.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),c.createElement(i.Provider,{value:s},e.children)}}}]);