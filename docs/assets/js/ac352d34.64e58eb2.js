"use strict";(globalThis.webpackChunkwebsite_docs=globalThis.webpackChunkwebsite_docs||[]).push([[116],{9709(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api/rest-rotating-proxies","title":"REST: Rotating Proxies","description":"Rotating proxies expose stable listener ports and rotate through alive upstream proxies.","source":"@site/docs/api/rest-rotating-proxies.md","sourceDirName":"api","slug":"/api/rest-rotating-proxies","permalink":"/docs/api/rest-rotating-proxies","draft":false,"unlisted":false,"editUrl":"https://github.com/Kuucheen/magpie/tree/master/website/docs/docs/api/rest-rotating-proxies.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"REST: Proxies","permalink":"/docs/api/rest-proxies"},"next":{"title":"REST: Scraping Sources","permalink":"/docs/api/rest-scraping-sources"}}');var i=r(4848),s=r(8453);const o={},a="REST: Rotating Proxies",d={},c=[{value:"<code>GET /api/rotatingProxies</code>",id:"get-apirotatingproxies",level:2},{value:"<code>POST /api/rotatingProxies</code>",id:"post-apirotatingproxies",level:2},{value:"<code>DELETE /api/rotatingProxies/{id}</code>",id:"delete-apirotatingproxiesid",level:2},{value:"<code>POST /api/rotatingProxies/{id}/next</code>",id:"post-apirotatingproxiesidnext",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"rest-rotating-proxies",children:"REST: Rotating Proxies"})}),"\n",(0,i.jsx)(n.p,{children:"Rotating proxies expose stable listener ports and rotate through alive upstream proxies."}),"\n",(0,i.jsx)(n.h2,{id:"get-apirotatingproxies",children:(0,i.jsx)(n.code,{children:"GET /api/rotatingProxies"})}),"\n",(0,i.jsx)(n.p,{children:"Requires auth."}),"\n",(0,i.jsx)(n.p,{children:"Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "rotating_proxies": [\n    {\n      "id": 5,\n      "name": "res-good",\n      "protocol": "http",\n      "listen_protocol": "http",\n      "transport_protocol": "tcp",\n      "listen_transport_protocol": "tcp",\n      "alive_proxy_count": 340,\n      "listen_port": 20042,\n      "auth_required": false,\n      "listen_host": "203.0.113.10",\n      "listen_address": "203.0.113.10:20042",\n      "reputation_labels": ["good", "neutral"],\n      "created_at": "2026-02-12T10:00:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"post-apirotatingproxies",children:(0,i.jsx)(n.code,{children:"POST /api/rotatingProxies"})}),"\n",(0,i.jsx)(n.p,{children:"Requires auth."}),"\n",(0,i.jsx)(n.p,{children:"Request:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "res-good",\n  "protocol": "http",\n  "listen_protocol": "http",\n  "transport_protocol": "tcp",\n  "listen_transport_protocol": "tcp",\n  "auth_required": false,\n  "auth_username": "",\n  "auth_password": "",\n  "reputation_labels": ["good", "neutral"]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Validation and behavior:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"})," required, max length 120, unique per user."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"protocol"})," required and must be enabled in the user's protocol settings."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"auth_required=true"})," requires non-empty ",(0,i.jsx)(n.code,{children:"auth_username"})," and ",(0,i.jsx)(n.code,{children:"auth_password"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"reputation_labels"})," currently supports ",(0,i.jsx)(n.code,{children:"good"}),", ",(0,i.jsx)(n.code,{children:"neutral"}),", ",(0,i.jsx)(n.code,{children:"poor"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Listener port is allocated from ",(0,i.jsx)(n.code,{children:"ROTATING_PROXY_PORT_START"}),"..",(0,i.jsx)(n.code,{children:"ROTATING_PROXY_PORT_END"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Status mapping:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"201"}),": created"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": validation errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404"}),": rotator not found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"409"}),": conflict (name exists, or no alive proxies for next)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"503"}),": rotating port range exhausted"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"delete-apirotatingproxiesid",children:(0,i.jsx)(n.code,{children:"DELETE /api/rotatingProxies/{id}"})}),"\n",(0,i.jsx)(n.p,{children:"Requires auth."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Success: ",(0,i.jsx)(n.code,{children:"204 No Content"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"post-apirotatingproxiesidnext",children:(0,i.jsx)(n.code,{children:"POST /api/rotatingProxies/{id}/next"})}),"\n",(0,i.jsx)(n.p,{children:"Requires auth. Returns the next upstream proxy that will be served."}),"\n",(0,i.jsx)(n.p,{children:"Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "proxy_id": 12345,\n  "ip": "198.51.100.25",\n  "port": 8080,\n  "username": "u",\n  "password": "p",\n  "has_auth": true,\n  "protocol": "http"\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>a});var t=r(6540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);