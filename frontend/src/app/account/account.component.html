<h2 class="titleHeader flex items-center gap-2">
  <i class="pi pi-user text-gray-400"></i>
  <div>Account</div>
</h2>

<div class="content-container">
  <h3 class="text-center mt-0">Change Password</h3>

  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-3">

    <!-- Current password -->
    <div class="flex flex-col gap-1">
      <label for="oldPassword">Current password</label>
      <input id="oldPassword" type="password" pInputText formControlName="oldPassword" />
      @if (passwordForm.get('oldPassword')?.hasError('required') && passwordForm.get('oldPassword')?.touched) {
        <small class="p-error">Current password is required</small>
      }
    </div>

    <!-- New password -->
    <div class="flex flex-col gap-1">
      <label for="newPassword">New password</label>
      <input id="newPassword" type="password" pInputText formControlName="newPassword" />
      @if (passwordForm.get('newPassword')?.hasError('required') && passwordForm.get('newPassword')?.touched) {
        <small class="p-error">New password is required</small>
      }
      @if (passwordForm.get('newPassword')?.hasError('minlength') && passwordForm.get('newPassword')?.touched) {
        <small class="p-error">Minimum length is 8 characters</small>
      }
    </div>

    <!-- Repeat new password -->
    <div class="flex flex-col gap-1">
      <label for="newPasswordCheck">Repeat new password</label>
      <input id="newPasswordCheck" type="password" pInputText formControlName="newPasswordCheck" />
      @if (passwordForm.hasError('passwordsMismatch') && passwordForm.get('newPasswordCheck')?.touched) {
        <small class="p-error">Passwords do not match</small>
      }
    </div>

    <!-- Submit button -->
    <p-button type="submit" label="Save password" class="self-center"
              [disabled]="passwordForm.invalid"></p-button>
  </form>
</div>
