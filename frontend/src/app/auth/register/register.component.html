<div class="background-color flex items-center justify-center min-h-screen">
  <div class="auth-container flex flex-col items-center">
    <a class="auth-logo flex flex-col items-center mb-6" routerLink="">
      <img src="../../../assets/logo/magpie-light.png" alt="Logo" class="w-20 mb-2" />
      <h5 class="text-lg font-semibold">M A G P I E</h5>
    </a>

    <p-card class="auth-card w-96">
      <h2 class="text-center mb-4 text-xl font-bold">Register</h2>

      <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="flex flex-col gap-4">

        <!-- Email -->
        <div class="flex flex-col gap-1">
          <label for="email">Email</label>
          <input id="email" type="email" pInputText formControlName="email" />
          @if (registerForm.get('email')?.hasError?.('required') && registerForm.get('email')?.touched) {
            <small class="p-error">Email is required</small>
          }
          @if (registerForm.get('email')?.hasError?.('email') && registerForm.get('email')?.touched) {
            <small class="p-error">Invalid email format</small>
          }
        </div>

        <!-- Password -->
        <div class="flex flex-col gap-1">
          <label for="password">Password</label>
          <input id="password" type="password" pInputText formControlName="password" />
          @if (registerForm.get('password')?.hasError?.('required') && registerForm.get('password')?.touched) {
            <small class="p-error">Password is required</small>
          }
          @if (registerForm.get('password')?.hasError?.('minlength') && registerForm.get('password')?.touched) {
            <small class="p-error">Minimum length is 8 characters</small>
          }
        </div>

        <!-- Confirm Password -->
        <div class="flex flex-col gap-1">
          <label for="confirmPassword">Confirm Password</label>
          <input id="confirmPassword" type="password" pInputText formControlName="confirmPassword" />
          @if (!passwordIsTheSame() && registerForm.get('confirmPassword')?.touched) {
            <small class="p-error">Passwords do not match</small>
          }
        </div>

        <!-- Submit -->
        <p-button
          type="submit"
          label="Register"
          styleClass="w-full"
          [disabled]="!registerForm.valid || !passwordIsTheSame()">
        </p-button>

        <p class="switch-link text-center mt-2">
          Already have an account?
          <a routerLink="/login" class="text-blue-500 hover:underline">Login</a>
        </p>
      </form>
    </p-card>
  </div>
</div>
