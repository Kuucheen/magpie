<div class="checker-settings-page text-gray-200" [formGroup]="settingsForm">
  <section class="settings-panel bg-neutral-900 border border-neutral-800 rounded-2xl p-6 shadow-lg">
    <header class="panel-header flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      <div>
        <h2 class="text-xl font-semibold text-white mb-1">Checker Preferences</h2>
        <p class="text-sm text-gray-400 max-w-2xl">
          Personalize how the proxy checker behaves. Toggle which proxy protocols to test, control performance
          thresholds, and decide whether SOCKS proxies should use HTTPS during validation.
        </p>
      </div>
    </header>

    <div class="panel-body flex flex-col gap-6">
      <section class="section-card bg-neutral-950/40 border border-neutral-800 rounded-xl p-5">
        <div class="section-header flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
          <div>
            <h3 class="section-title">Protocols</h3>
            <p class="section-hint">Choose the proxy types the checker will validate during a run.</p>
          </div>
        </div>
        <div class="protocol-grid">
          <div class="protocol-option">
            <app-checkbox label="HTTP" formControlName="HTTPProtocol"></app-checkbox>
          </div>
          <div class="protocol-option">
            <app-checkbox label="HTTPS" formControlName="HTTPSProtocol"></app-checkbox>
          </div>
          <div class="protocol-option">
            <app-checkbox label="SOCKS4" formControlName="SOCKS4Protocol"></app-checkbox>
          </div>
          <div class="protocol-option">
            <app-checkbox label="SOCKS5" formControlName="SOCKS5Protocol"></app-checkbox>
          </div>
        </div>
      </section>

      <section class="section-card bg-neutral-950/40 border border-neutral-800 rounded-xl p-5">
        <div class="section-header flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
          <div>
            <h3 class="section-title">Performance Tuning</h3>
            <p class="section-hint">Fine-tune the retry and timeout thresholds to match your infrastructure.</p>
          </div>
        </div>
        <div class="field-grid">
          <div class="field-group">
            <label class="field-label" for="retries">Retries</label>
            <input
              id="retries"
              formControlName="Retries"
              type="number"
              pInputText
              class="p-inputtext-sm w-full"
              placeholder="2"
            />
            <p class="field-hint">How many times to re-attempt before marking a proxy as failed.</p>
          </div>
          <div class="field-group">
            <label class="field-label" for="timeout">Timeout (ms)</label>
            <input
              id="timeout"
              formControlName="Timeout"
              type="number"
              pInputText
              class="p-inputtext-sm w-full"
              placeholder="7500"
            />
            <p class="field-hint">Maximum wait time per attempt before moving on from a proxy.</p>
          </div>
        </div>
      </section>

      <section class="section-card bg-neutral-950/40 border border-neutral-800 rounded-xl p-5">
        <div class="section-header flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
          <div>
            <h3 class="section-title">Validation Options</h3>
<!--            <p class="section-hint">Extend HTTPS checks to SOCKS proxies when you need extra certainty.</p>-->
          </div>
        </div>
        <div class="flex justify-between items-center flex-col gap-3 sm:flex-row">
          <div class="flex-1">
            <p class="field-label">Use HTTPS for SOCKS</p>
            <p class="field-hint">Will use HTTPS judges for SOCKS4/5 proxy validation.</p>
          </div>
          <div class="protocol-option self-start">
            <app-checkbox label="Enable" formControlName="UseHttpsForSocks"></app-checkbox>
          </div>
        </div>
      </section>
    </div>

    <footer class="panel-footer flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mt-6">
      <p class="text-xs text-gray-500 max-w-xl">Settings will be saved and applied to new checker sessions.</p>
      <p-button
        type="button"
        label="Save Settings"
        (onClick)="onSubmit()"
        [disabled]="!settingsForm.dirty"
        styleClass="save-settings-button"
      >
      </p-button>
    </footer>
  </section>
</div>
