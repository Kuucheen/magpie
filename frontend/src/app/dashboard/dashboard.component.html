<div *ngIf="!dashboardInfo?.loaded" class="toggle-container d-flex align-items-center justify-content-center mt-4">
  <p-progressSpinner></p-progressSpinner>
</div>

<div *ngIf="dashboardInfo?.loaded" class="dashboard-container">
  <div class="flex flex-wrap -m-2">
    <div class="w-full md:w-1/3 p-2">
      <app-kpi-card
        title="Alive Proxies"
        [value]="conversionRate.value"
        [change]="conversionRate.change"
        svgPath="M0,30 Q25,10 50,20 T100,15">
      </app-kpi-card>
    </div>

    <div class="w-full md:w-1/3 p-2">
      <app-kpi-card
        title="Total Proxies"
        [value]="avgOrderValue.value"
        [change]="avgOrderValue.change"
        svgPath="M0,35 Q25,25 50,15 T100,20">
      </app-kpi-card>
    </div>

    <div class="w-full md:w-1/3 p-2">
      <app-kpi-card
        title="Scraped Proxies"
        [value]="orderQuantity.value"
        [change]="orderQuantity.change"
        [displayValue]="orderQuantity.value | number"
        svgPath="M0,25 Q25,30 50,10 T100,15">
      </app-kpi-card>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mt-4">
    <div class="lg:col-span-2">
      <app-proxies-per-hour-card
        [chartData]="proxiesLineData"
        [chartOptions]="proxiesLineOptions">
      </app-proxies-per-hour-card>
    </div>

    <div class="lg:col-span-1">
      <app-proxy-history-card [history]="proxyHistory"></app-proxy-history-card>
    </div>

    <div class="lg:col-span-2">
      <app-proxies-per-country-card
        [countries]="majorCountries"
        [chartData]="visitorPieData"
        [chartOptions]="pieChartOptions">
      </app-proxies-per-country-card>
    </div>

    <div class="lg:col-span-1">
      <app-proxies-by-anonymity-card
        [summary]="anonymitySummary"
        [segments]="anonymitySegments">
      </app-proxies-by-anonymity-card>
    </div>
  </div>
</div>
