<div
  class="health-cell"
  (mouseenter)="showHealthPopup($event)"
  (mouseleave)="hideHealthPopup()"
>
  <div class="health-sub">{{ ratioLabel }}</div>
  <div class="health-bar" aria-hidden="true">
    <span class="health-bar__segment health-bar__segment--alive" [style.width.%]="alivePercent"></span>
    <span class="health-bar__segment health-bar__segment--dead" [style.width.%]="deadPercent"></span>
    @if (showUnknown) {
      <span class="health-bar__segment health-bar__segment--unknown" [style.width.%]="unknownPercent"></span>
    }
  </div>
</div>

@if (hovered) {
  <div
    class="health-tooltip"
    [style.left.px]="hovered.x"
    [style.top.px]="hovered.y"
  >
    <span class="status-pill" [ngClass]="statusPillClass">
      <span class="status-dot" [ngClass]="dotClass"></span>
      {{ statusLabel }}
    </span>
    <div class="health-counts">
      <span class="health-count health-count--alive">Alive {{ aliveDisplay }}</span>
      <span class="health-count health-count--dead">Dead {{ deadDisplay }}</span>
      @if (showUnknown) {
        <span class="health-count health-count--unknown">Unknown {{ unknownDisplay }}</span>
      }
    </div>
  </div>
}
